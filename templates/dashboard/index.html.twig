{% extends 'base.html.twig' %}

{% block title %}Tableau de Bord{% endblock %}

{% block body %}
<div class="row">
    <div class="col-12">
        <div class="page-title-box d-sm-flex align-items-center justify-content-between">
            <div>
                <h4 class="mb-sm-0 font-size-18">
                    <i class="bx bx-home-alt-2 me-2"></i>
                    Tableau de Bord
                    {% if user_role == 'admin' %}
                        <span class="badge bg-danger">Super Admin</span>
                    {% elseif user_role == 'caissier' %}
                        <span class="badge bg-info">Caissier</span>
                    {% elseif user_role == 'responsable' %}
                        <span class="badge bg-warning">Responsable</span>
                    {% elseif user_role == 'agent' %}
                        <span class="badge bg-primary">Agent</span>
                    {% endif %}
                </h4>
            </div>
            <div class="page-title-right">
                <ol class="breadcrumb m-0">
                    <li class="breadcrumb-item active">Tableau de Bord</li>
                </ol>
            </div>
        </div>
    </div>
</div>

<!-- Contenu Intelligent selon le Rôle -->
{% if user_role == 'admin' %}
    <!-- Dashboard Administrateur -->
    {% include 'dashboard/partials/admin_dashboard.html.twig' %}
    
{% elseif user_role == 'caissier' %}
    <!-- Dashboard Caissier -->
    {% include 'dashboard/partials/caissier_dashboard.html.twig' %}
    
{% elseif user_role == 'responsable' %}
    <!-- Dashboard Responsable d'Agence -->
    {% include 'dashboard/partials/responsable_dashboard.html.twig' %}
    
{% elseif user_role == 'agent' %}
    <!-- Dashboard Agent -->
    {% include 'dashboard/partials/agent_dashboard.html.twig' %}
    
{% else %}
    <!-- Dashboard Utilisateur Standard -->
    {% include 'dashboard/partials/user_dashboard.html.twig' %}
{% endif %}

{% endblock %}

{% block javascripts %}
<script>
    // Initialiser les icônes Feather
    feather.replace();
</script>
{% endblock %}

