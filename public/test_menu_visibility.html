<!DOCTYPE html>
<html>
<head>
    <title>Test Visibilit√© Menu GESTION FINANCI√àRE</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .info { background: #e3f2fd; padding: 15px; margin: 10px 0; border-radius: 5px; }
        .success { background: #c8e6c9; padding: 15px; margin: 10px 0; border-radius: 5px; }
        .warning { background: #fff3cd; padding: 15px; margin: 10px 0; border-radius: 5px; }
        .code { background: #f5f5f5; padding: 10px; font-family: monospace; }
    </style>
</head>
<body>
    <h1>üîç Test Visibilit√© Menu GESTION FINANCI√àRE</h1>
    
    <div class="info">
        <h2>Configuration Actuelle</h2>
        <p>Fichier: <code>templates/includes/sidebar.html.twig</code></p>
        <ul>
            <li>‚úÖ Section "GESTION FINANCI√àRE" (lignes 42-89): <strong>SANS restriction</strong></li>
            <li>‚úÖ Section "ADMINISTRATION" (ligne 114+): <strong>AVEC restriction ROLE_ADMIN</strong></li>
        </ul>
    </div>

    <div class="success">
        <h2>‚úÖ R√©sultat Attendu</h2>
        <p>Les utilisateurs avec <code>ROLE_USER</code> DOIVENT voir :</p>
        <ul>
            <li>‚úì TABLEAU DE BORD</li>
            <li>‚úì OP√âRATIONS (Transactions Change)</li>
            <li>‚úì <strong>GESTION FINANCI√àRE</strong>
                <ul>
                    <li>- Fonds de D√©part</li>
                    <li>- Transferts de Fonds</li>
                    <li>- Op√©rations Diverses</li>
                </ul>
            </li>
            <li>‚úì RAPPORTS & ANALYSES</li>
            <li>‚úó ADMINISTRATION (cach√©)</li>
        </ul>
    </div>

    <div class="warning">
        <h2>üîß Si le menu n'est pas visible</h2>
        <p>V√©rifiez ces points :</p>
        <ol>
            <li><strong>Cache navigateur :</strong> Appuyez sur <kbd>Ctrl+F5</kbd> pour recharger</li>
            <li><strong>Session utilisateur :</strong> D√©connectez-vous et reconnectez-vous</li>
            <li><strong>R√¥le utilisateur :</strong> V√©rifiez que l'utilisateur a bien <code>["ROLE_USER"]</code> dans la table <code>utilisateurs</code></li>
            <li><strong>Template compil√© :</strong> V√©rifiez <code>var/cache/dev/twig/</code></li>
        </ol>
    </div>

    <div class="code">
        <h3>Commandes de v√©rification :</h3>
        <pre>
# Vider le cache Symfony
php bin/console cache:clear

# V√©rifier les r√¥les utilisateurs
SELECT nom, email, roles FROM utilisateurs WHERE roles LIKE '%ROLE_USER%';

# V√©rifier les routes accessibles
php bin/console debug:router | grep -E "(fonds|transfert|operation)"
        </pre>
    </div>

    <div class="info">
        <h2>üìã Routes GESTION FINANCI√àRE</h2>
        <p>Ces routes sont accessibles avec <code>ROLE_USER</code> selon <code>security.yaml</code> :</p>
        <ul>
            <li><code>/fonds</code> - Liste des fonds</li>
            <li><code>/fonds/nouveau</code> - Nouveau fonds</li>
            <li><code>/transferts</code> - Liste des transferts</li>
            <li><code>/transferts/nouveau</code> - Nouveau transfert</li>
            <li><code>/operations-diverses</code> - Liste des op√©rations</li>
            <li><code>/operations-diverses/nouveau</code> - Nouvelle op√©ration</li>
        </ul>
    </div>

    <hr>
    <p><em>Si apr√®s ces v√©rifications le menu n'est toujours pas visible, il peut y avoir :</em></p>
    <ul>
        <li>Un fichier JavaScript qui cache le menu</li>
        <li>Un fichier CSS avec <code>display: none;</code></li>
        <li>Un autre template qui remplace sidebar.html.twig</li>
    </ul>

</body>
</html>
